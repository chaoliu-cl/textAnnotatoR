<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Technical Integration - Using textAnnotatoR with Other R Tools • textAnnotatoR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Technical Integration - Using textAnnotatoR with Other R Tools">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">textAnnotatoR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/practical_example.html">Practical Example - Qualitative Analysis with textAnnotatoR</a></li>
    <li><a class="dropdown-item" href="../articles/technical_integration.html">Technical Integration - Using textAnnotatoR with Other R Tools</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/chaoliu-cl/textAnnotatoR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Technical Integration - Using textAnnotatoR with Other R Tools</h1>
                        <h4 data-toc-skip class="author">Chao Liu</h4>
            
            <h4 data-toc-skip class="date">2025-04-07</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/chaoliu-cl/textAnnotatoR/blob/master/vignettes/technical_integration.Rmd" class="external-link"><code>vignettes/technical_integration.Rmd</code></a></small>
      <div class="d-none name"><code>technical_integration.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>While textAnnotatoR provides a comprehensive GUI for annotation, its
true power comes from integration with the broader R ecosystem. This
vignette demonstrates how to integrate textAnnotatoR’s outputs with
other popular R packages for text analysis, visualization, and
reporting.</p>
</div>
<div class="section level2">
<h2 id="understanding-data-structures">Understanding Data Structures<a class="anchor" aria-label="anchor" href="#understanding-data-structures"></a>
</h2>
<p>Before integrating with other tools, let’s explore the structure of
textAnnotatoR’s data:</p>
<div class="section level3">
<h3 id="project-files">Project Files<a class="anchor" aria-label="anchor" href="#project-files"></a>
</h3>
<p>textAnnotatoR project files (.rds) contain the following
components:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># First, ensure the project directory exists and is initialized</span></span>
<span><span class="co"># We need to handle this explicitly when working outside the GUI</span></span>
<span><span class="va">initialize_project_directory</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Get user documents directory as a safer default</span></span>
<span>  <span class="va">user_docs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/path.expand.html" class="external-link">path.expand</a></span><span class="op">(</span><span class="st">"~"</span><span class="op">)</span>, <span class="st">"Documents"</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Create textAnnotatoR directory if it doesn't exist</span></span>
<span>  <span class="va">text_annotator_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">user_docs</span>, <span class="st">"textAnnotatoR"</span><span class="op">)</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.exists</a></span><span class="op">(</span><span class="va">text_annotator_dir</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">text_annotator_dir</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="co"># Create projects subdirectory</span></span>
<span>  <span class="va">projects_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">text_annotator_dir</span>, <span class="st">"projects"</span><span class="op">)</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.exists</a></span><span class="op">(</span><span class="va">projects_dir</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">projects_dir</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">projects_dir</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Initialize the directory</span></span>
<span><span class="va">projects_dir</span> <span class="op">&lt;-</span> <span class="fu">initialize_project_directory</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a sample project for demonstration</span></span>
<span><span class="va">project</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  text <span class="op">=</span> <span class="st">"Sample interview text content for demonstration purposes. This text contains information about remote work challenges and benefits."</span>,</span>
<span>  annotations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">25</span>, <span class="fl">50</span>, <span class="fl">80</span><span class="op">)</span>,</span>
<span>    end <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">35</span>, <span class="fl">60</span>, <span class="fl">90</span><span class="op">)</span>,</span>
<span>    text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sample"</span>, <span class="st">"interview"</span>, <span class="st">"demonstration"</span>, <span class="st">"remote work"</span><span class="op">)</span>,</span>
<span>    code <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sample"</span>, <span class="st">"Interview"</span>, <span class="st">"Demo"</span>, <span class="st">"Remote"</span><span class="op">)</span>,</span>
<span>    memo <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Example memo"</span>, <span class="st">"Interview note"</span>, <span class="st">"Demo note"</span>, <span class="st">"Remote note"</span><span class="op">)</span>,</span>
<span>    stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span>,</span>
<span>  codes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sample"</span>, <span class="st">"Interview"</span>, <span class="st">"Demo"</span>, <span class="st">"Remote"</span><span class="op">)</span>,</span>
<span>  code_tree <span class="op">=</span> <span class="fu">data.tree</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/data.tree/man/Node.html" class="external-link">Node</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"Root"</span><span class="op">)</span>,</span>
<span>  code_colors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sample"</span> <span class="op">=</span> <span class="st">"#FF0000"</span>, <span class="st">"Interview"</span> <span class="op">=</span> <span class="st">"#00FF00"</span>, </span>
<span>                  <span class="st">"Demo"</span> <span class="op">=</span> <span class="st">"#0000FF"</span>, <span class="st">"Remote"</span> <span class="op">=</span> <span class="st">"#FFCC00"</span><span class="op">)</span>,</span>
<span>  memos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  code_descriptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Structure of a project</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">project</span>, max.level <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="annotation-data-frame">Annotation Data Frame<a class="anchor" aria-label="anchor" href="#annotation-data-frame"></a>
</h3>
<p>The core annotation data is stored in a standard R data frame:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># View annotation structure</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">project</span><span class="op">$</span><span class="va">annotations</span><span class="op">)</span></span>
<span><span class="co">#&gt;   start end          text      code           memo</span></span>
<span><span class="co">#&gt; 1     1  10        Sample    Sample   Example memo</span></span>
<span><span class="co">#&gt; 2    25  35     interview Interview Interview note</span></span>
<span><span class="co">#&gt; 3    50  60 demonstration      Demo      Demo note</span></span>
<span><span class="co">#&gt; 4    80  90   remote work    Remote    Remote note</span></span></code></pre></div>
<p>This structure makes it readily compatible with standard R data
manipulation tools.</p>
</div>
</div>
<div class="section level2">
<h2 id="integrating-with-text-analysis-packages">Integrating with Text Analysis Packages<a class="anchor" aria-label="anchor" href="#integrating-with-text-analysis-packages"></a>
</h2>
<div class="section level3">
<h3 id="using-textannotator-with-quanteda">Using textAnnotatoR with quanteda<a class="anchor" aria-label="anchor" href="#using-textannotator-with-quanteda"></a>
</h3>
<p>The <a href="https://quanteda.io/" class="external-link">quanteda</a> package is a powerful
framework for text analysis. Here’s how to combine textAnnotatoR
annotations with quanteda:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://quanteda.io" class="external-link">quanteda</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://quanteda.io" class="external-link">quanteda.textstats</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Extract annotations by code</span></span>
<span><span class="va">sample_texts</span> <span class="op">&lt;-</span> <span class="va">project</span><span class="op">$</span><span class="va">annotations</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">code</span> <span class="op">==</span> <span class="st">"Sample"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">text</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a corpus from these text segments</span></span>
<span><span class="va">sample_corpus</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://quanteda.io/reference/corpus.html" class="external-link">corpus</a></span><span class="op">(</span><span class="va">sample_texts</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Analyze with quanteda</span></span>
<span><span class="va">sample_dfm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://quanteda.io/reference/dfm.html" class="external-link">dfm</a></span><span class="op">(</span><span class="fu"><a href="https://quanteda.io/reference/tokens.html" class="external-link">tokens</a></span><span class="op">(</span><span class="va">sample_corpus</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://quanteda.io/reference/textstat_frequency.html" class="external-link">textstat_frequency</a></span><span class="op">(</span><span class="va">sample_dfm</span>, n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>  <span class="co"># Top 5 words</span></span>
<span><span class="co">#&gt;   feature frequency rank docfreq group</span></span>
<span><span class="co">#&gt; 1  sample         1    1       1   all</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="integration-with-tidytext">Integration with tidytext<a class="anchor" aria-label="anchor" href="#integration-with-tidytext"></a>
</h3>
<p>The <a href="https://www.tidytextmining.com/" class="external-link">tidytext</a> package
works beautifully with textAnnotatoR outputs:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://juliasilge.github.io/tidytext/" class="external-link">tidytext</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert annotations to tidy format</span></span>
<span><span class="va">tidy_annotations</span> <span class="op">&lt;-</span> <span class="va">project</span><span class="op">$</span><span class="va">annotations</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://juliasilge.github.io/tidytext/reference/unnest_tokens.html" class="external-link">unnest_tokens</a></span><span class="op">(</span><span class="va">word</span>, <span class="va">text</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter-joins.html" class="external-link">anti_join</a></span><span class="op">(</span><span class="va">stop_words</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Word frequency by code</span></span>
<span><span class="va">word_frequencies</span> <span class="op">&lt;-</span> <span class="va">tidy_annotations</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">code</span>, <span class="va">word</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">code</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/top_n.html" class="external-link">top_n</a></span><span class="op">(</span><span class="fl">5</span>, <span class="va">n</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Simple visualization</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">word_frequencies</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">word</span>, <span class="va">n</span><span class="op">)</span>, <span class="va">n</span>, fill <span class="op">=</span> <span class="va">code</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">code</span>, scales <span class="op">=</span> <span class="st">"free"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Top Words by Code"</span>,</span>
<span>       x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Count"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="enhanced-visualization">Enhanced Visualization<a class="anchor" aria-label="anchor" href="#enhanced-visualization"></a>
</h2>
<div class="section level3">
<h3 id="network-visualization-with-igraph">Network Visualization with igraph<a class="anchor" aria-label="anchor" href="#network-visualization-with-igraph"></a>
</h3>
<p>The following example demonstrates how to create network
visualizations from co-occurrence patterns:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.igraph.org/" class="external-link">igraph</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a simple matrix of code co-occurrences</span></span>
<span><span class="va">codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Home Setup"</span>, <span class="st">"Work-Life"</span>, <span class="st">"Tools"</span>, <span class="st">"Benefits"</span><span class="op">)</span></span>
<span><span class="va">co_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="fl">0</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">0</span>,  <span class="co"># Home Setup</span></span>
<span>  <span class="fl">2</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">3</span>,  <span class="co"># Work-Life</span></span>
<span>  <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span>,  <span class="co"># Tools</span></span>
<span>  <span class="fl">0</span>, <span class="fl">3</span>, <span class="fl">1</span>, <span class="fl">0</span>   <span class="co"># Benefits</span></span>
<span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">4</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">co_matrix</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">co_matrix</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">codes</span></span>
<span></span>
<span><span class="co"># Create a graph</span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r.igraph.org/reference/graph_from_adjacency_matrix.html" class="external-link">graph_from_adjacency_matrix</a></span><span class="op">(</span></span>
<span>  <span class="va">co_matrix</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"undirected"</span>,</span>
<span>  weighted <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  diag <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Basic plot</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">g</span>, </span>
<span>     vertex.color <span class="op">=</span> <span class="st">"lightblue"</span>,</span>
<span>     vertex.size <span class="op">=</span> <span class="fl">30</span>,</span>
<span>     vertex.label.color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>     edge.width <span class="op">=</span> <span class="fu"><a href="https://r.igraph.org/reference/E.html" class="external-link">E</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">$</span><span class="va">weight</span>,</span>
<span>     main <span class="op">=</span> <span class="st">"Code Co-occurrence Network"</span><span class="op">)</span></span></code></pre></div>
<p><img src="../reference/figures/code_cooccurance.png" width="400px" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="simple-visualizations-with-ggplot2">Simple Visualizations with ggplot2<a class="anchor" aria-label="anchor" href="#simple-visualizations-with-ggplot2"></a>
</h3>
<p>Create static visualizations of your code frequencies:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a base ggplot with code frequencies</span></span>
<span><span class="va">code_freq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  code <span class="op">=</span> <span class="va">codes</span>,</span>
<span>  frequency <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">3</span>, <span class="fl">6</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a simple bar chart</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">code_freq</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">code</span>, <span class="va">frequency</span><span class="op">)</span>, <span class="va">frequency</span>, fill <span class="op">=</span> <span class="va">code</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Example Code Frequencies"</span>, x <span class="op">=</span> <span class="st">"Code"</span>, y <span class="op">=</span> <span class="st">"Frequency"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
<p><img src="../reference/figures/example_code_freq.png" width="400px" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="batch-processing-and-automation">Batch Processing and Automation<a class="anchor" aria-label="anchor" href="#batch-processing-and-automation"></a>
</h2>
<div class="section level3">
<h3 id="processing-multiple-documents">Processing Multiple Documents<a class="anchor" aria-label="anchor" href="#processing-multiple-documents"></a>
</h3>
<p>For projects with multiple documents, you can automate the
workflow:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Function to process a single document</span></span>
<span><span class="va">process_document</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">file_path</span>, <span class="va">coding_scheme</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Import text</span></span>
<span>  <span class="va">text</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="va">file_path</span>, warn <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  <span class="va">text</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">text</span>, collapse <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Create a new project structure</span></span>
<span>  <span class="va">project</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    text <span class="op">=</span> <span class="va">text</span>,</span>
<span>    annotations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>      start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>      end <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>      text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>      code <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>      memo <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>      stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>    <span class="op">)</span>,</span>
<span>    codes <span class="op">=</span> <span class="va">coding_scheme</span><span class="op">$</span><span class="va">codes</span>,</span>
<span>    code_tree <span class="op">=</span> <span class="va">coding_scheme</span><span class="op">$</span><span class="va">code_tree</span>,</span>
<span>    code_colors <span class="op">=</span> <span class="va">coding_scheme</span><span class="op">$</span><span class="va">code_colors</span>,</span>
<span>    memos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    code_descriptions <span class="op">=</span> <span class="va">coding_scheme</span><span class="op">$</span><span class="va">code_descriptions</span></span>
<span>  <span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Save as a textAnnotatoR project</span></span>
<span>  <span class="va">project_name</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/basename.html" class="external-link">basename</a></span><span class="op">(</span><span class="fu">tools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/tools/fileutils.html" class="external-link">file_path_sans_ext</a></span><span class="op">(</span><span class="va">file_path</span><span class="op">)</span><span class="op">)</span>, <span class="st">".rds"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">project</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">projects_dir</span>, <span class="va">project_name</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Processed:"</span>, <span class="va">file_path</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">project_name</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Example of processing a folder of documents</span></span>
<span><span class="co"># files &lt;- list.files("interview_transcripts", pattern = "*.txt", full.names = TRUE)</span></span>
<span><span class="co"># processed_projects &lt;- sapply(files, process_document, coding_scheme = master_scheme)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="export-to-other-formats">Export to Other Formats<a class="anchor" aria-label="anchor" href="#export-to-other-formats"></a>
</h3>
<p>Convert textAnnotatoR annotations to formats compatible with other
QDA software:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Basic export to CSV</span></span>
<span><span class="va">export_to_csv</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">project</span>, <span class="va">output_file</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">project</span><span class="op">$</span><span class="va">annotations</span>, <span class="va">output_file</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">output_file</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Example of exporting annotations</span></span>
<span><span class="co"># export_to_csv(project, "project_annotations.csv")</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="integration-with-reporting-tools">Integration with Reporting Tools<a class="anchor" aria-label="anchor" href="#integration-with-reporting-tools"></a>
</h2>
<div class="section level3">
<h3 id="creating-reports-with-r-markdown">Creating Reports with R Markdown<a class="anchor" aria-label="anchor" href="#creating-reports-with-r-markdown"></a>
</h3>
<p>Generate comprehensive reports from your textAnnotatoR analyses:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/rmarkdown" class="external-link">rmarkdown</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Function to generate a simple report</span></span>
<span><span class="va">generate_analysis_report</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">project</span>, <span class="va">output_file</span> <span class="op">=</span> <span class="st">"analysis_report.html"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Create a temporary Rmd file</span></span>
<span>  <span class="va">temp_rmd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".Rmd"</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Write R Markdown content</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"---"</span>,</span>
<span>      <span class="st">"title: 'Qualitative Analysis Report'"</span>,</span>
<span>      <span class="st">"output: html_document"</span>,</span>
<span>      <span class="st">"---"</span>,</span>
<span>      <span class="st">""</span>,</span>
<span>      <span class="st">"```{r setup, include=FALSE}"</span>,</span>
<span>      <span class="st">"knitr::opts_chunk$set(echo = FALSE)"</span>,</span>
<span>      <span class="st">"```"</span>,</span>
<span>      <span class="st">""</span>,</span>
<span>      <span class="st">"# Analysis Overview"</span>,</span>
<span>      <span class="st">""</span>,</span>
<span>      <span class="st">"This report presents findings from qualitative analysis using textAnnotatoR."</span>,</span>
<span>      <span class="st">""</span>,</span>
<span>      <span class="st">"## Document Statistics"</span>,</span>
<span>      <span class="st">""</span>,</span>
<span>      <span class="st">"```{r}"</span>,</span>
<span>      <span class="st">"stats &lt;- data.frame("</span>,</span>
<span>      <span class="st">"  Metric = c('Total Words', 'Total Annotations', 'Unique Codes'),"</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"  Value = c(length(strsplit(project$text, '\\\\W+')[[1]]), nrow(project$annotations), length(project$codes))"</span><span class="op">)</span>,</span>
<span>      <span class="st">")"</span>,</span>
<span>      <span class="st">"knitr::kable(stats)"</span>,</span>
<span>      <span class="st">"```"</span>,</span>
<span>      <span class="st">""</span>,</span>
<span>      <span class="st">"## Annotations Table"</span>,</span>
<span>      <span class="st">""</span>,</span>
<span>      <span class="st">"```{r}"</span>,</span>
<span>      <span class="st">"knitr::kable(project$annotations)"</span>,</span>
<span>      <span class="st">"```"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="va">temp_rmd</span></span>
<span>  <span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Render the report</span></span>
<span>  <span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/render.html" class="external-link">render</a></span><span class="op">(</span><span class="va">temp_rmd</span>, output_file <span class="op">=</span> <span class="va">output_file</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">output_file</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="performance-tips">Performance Tips<a class="anchor" aria-label="anchor" href="#performance-tips"></a>
</h2>
<div class="section level3">
<h3 id="working-with-large-documents">Working with Large Documents<a class="anchor" aria-label="anchor" href="#working-with-large-documents"></a>
</h3>
<p>For very large documents, consider these optimization strategies:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Split large documents into manageable chunks</span></span>
<span><span class="va">split_large_document</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">file_path</span>, <span class="va">chunk_size</span> <span class="op">=</span> <span class="fl">5000</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">text</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="va">file_path</span>, warn <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  <span class="va">text</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">text</span>, collapse <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Split into chunks</span></span>
<span>  <span class="va">chunks</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">text</span><span class="op">)</span>, by <span class="op">=</span> <span class="va">chunk_size</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">end_pos</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">i</span> <span class="op">+</span> <span class="va">chunk_size</span> <span class="op">-</span> <span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">text</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">chunks</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">chunks</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">text</span>, <span class="va">i</span>, <span class="va">end_pos</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="co"># Save chunks</span></span>
<span>  <span class="va">chunk_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">chunks</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">chunks</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">filename</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu">tools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/tools/fileutils.html" class="external-link">file_path_sans_ext</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/basename.html" class="external-link">basename</a></span><span class="op">(</span><span class="va">file_path</span><span class="op">)</span><span class="op">)</span>, </span>
<span>                      <span class="st">"_chunk"</span>, <span class="va">i</span>, <span class="st">".txt"</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines</a></span><span class="op">(</span><span class="va">chunks</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span>, <span class="va">filename</span><span class="op">)</span></span>
<span>    <span class="va">chunk_files</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">filename</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">chunk_files</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Optimize annotations for performance</span></span>
<span><span class="va">optimize_annotations</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">project</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Remove duplicate annotations</span></span>
<span>  <span class="va">project</span><span class="op">$</span><span class="va">annotations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">project</span><span class="op">$</span><span class="va">annotations</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Sort by position</span></span>
<span>  <span class="va">project</span><span class="op">$</span><span class="va">annotations</span> <span class="op">&lt;-</span> <span class="va">project</span><span class="op">$</span><span class="va">annotations</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">project</span><span class="op">$</span><span class="va">annotations</span><span class="op">$</span><span class="va">start</span><span class="op">)</span>, <span class="op">]</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">project</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="batch-processing-tips">Batch Processing Tips<a class="anchor" aria-label="anchor" href="#batch-processing-tips"></a>
</h3>
<p>When working with multiple files or team members:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Function to merge annotations from multiple coders</span></span>
<span><span class="va">merge_annotations</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">annotation_files</span>, <span class="va">output_file</span> <span class="op">=</span> <span class="st">"merged_annotations.csv"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Read all annotation files</span></span>
<span>  <span class="va">all_annotations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">annotation_files</span>, <span class="va">read.csv</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Add coder column to each set</span></span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">all_annotations</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">all_annotations</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">coder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Coder"</span>, <span class="va">i</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="co"># Combine all annotations</span></span>
<span>  <span class="va">merged</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="va">all_annotations</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Write to CSV</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">merged</span>, <span class="va">output_file</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">output_file</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Example usage:</span></span>
<span><span class="co"># merge_annotations(c("coder1_annotations.csv", "coder2_annotations.csv"))</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>This vignette demonstrates how to leverage textAnnotatoR’s data
structures to integrate with the broader R ecosystem. By combining the
intuitive annotation interface with powerful R packages for analysis and
visualization, you have more control over your qualitative analysis
workflow.</p>
<p>The examples provided here use simple data to demonstrate the
concepts while keeping the package size reasonable. In practice, you
would use your actual project data and might need to modify these
functions to match your specific requirements.</p>
<hr>
<p><em>Note: Some code examples use <code>eval=FALSE</code> to prevent
large outputs during package building while still showing the code for
demonstration purposes.</em></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Chao Liu.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
